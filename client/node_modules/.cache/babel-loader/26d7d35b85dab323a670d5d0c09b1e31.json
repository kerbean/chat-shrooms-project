{"ast":null,"code":"import _classCallCheck from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/src/components/Nickname/Nickname.js\";\nimport React, { Component } from \"react\";\nimport \"./Nickname.css\";\nimport firebase from 'firebase';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\n\nvar Nickname =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Nickname, _Component);\n\n  function Nickname(props) {\n    var _this;\n\n    _classCallCheck(this, Nickname);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Nickname).call(this, props));\n    _this.state = {\n      nickname: '',\n      email: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Nickname, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(\"Receive Props : \" + nextProps);\n      this.setState({\n        email: this.props.user.email\n      });\n      console.log(\"Email Props: \" + this.props.user.email); // console.log(\"Email State: \" + this.state.email);\n\n      if (nextProps.user) {\n        this.setState({\n          'userName': nextProps.user.displayName\n        }); // console.log(\"userName Next Props: \" + nextProps.user.displayName);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// Main.\n      // this.setState({ 'userName': this.props.user.displayName });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      console.log(event.target);\n      this.setState({\n        nickname: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSend\",\n    value: function handleSend() {\n      var _this2 = this;\n\n      if (this.state.nickname) {\n        console.log(\"state msg: \" + this.state.nickname);\n        var body = {\n          email: this.state.email,\n          nickname: this.state.nickname\n        };\n        console.log(\"Body: \" + JSON.stringify(body));\n        axios.put('/api/updateUser', body).then(function (res) {\n          console.log(\"Update user: \" + res.data);\n\n          _this2.props.nicknameCb(_this2.state.nickname, _this2.state.email);\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(event) {\n      if (event.key !== 'Enter') return;\n      this.handleSend();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"nick-input\",\n        type: \"text\",\n        placeholder: \"Change Nickname\",\n        value: this.state.nickname,\n        onChange: this.handleChange.bind(this),\n        onKeyPress: this.handleKeyPress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"app__button rounded \",\n        onClick: this.handleSend.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Change!\"));\n    }\n  }]);\n\n  return Nickname;\n}(Component); // export default Nickname;\n\n\nexport { Nickname as default };","map":{"version":3,"sources":["/Users/helengrace.delrosario/Desktop/BOOTCAMP/ACTIVITIES/WEEK23/PROJECT 3/Unsolved/client/src/components/Nickname/Nickname.js"],"names":["React","Component","firebase","axios","dotenv","Nickname","props","state","nickname","email","handleChange","bind","nextProps","console","log","setState","user","displayName","event","target","value","body","JSON","stringify","put","then","res","data","nicknameCb","key","handleSend","handleKeyPress"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Nickname.css\";\nimport firebase from 'firebase';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\n\nexport default class Nickname extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nickname: '',\n            email: '',\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n    componentWillReceiveProps(nextProps) {\n        console.log(\"Receive Props : \" + nextProps);\n\n        this.setState({ email: this.props.user.email });\n        console.log(\"Email Props: \" + this.props.user.email);\n        // console.log(\"Email State: \" + this.state.email);\n\n        if (nextProps.user) {\n            this.setState({ 'userName': nextProps.user.displayName });\n            // console.log(\"userName Next Props: \" + nextProps.user.displayName);\n\n\n        }\n    }\n\n    componentDidMount() {\n        // Main.\n        // this.setState({ 'userName': this.props.user.displayName });\n    }\n\n    handleChange(event) {\n        console.log(event.target)\n        this.setState({ nickname: event.target.value });\n    }\n    handleSend() {\n        if (this.state.nickname) {\n            console.log(\"state msg: \" + this.state.nickname);\n            var body = {\n                email: this.state.email,\n                nickname: this.state.nickname,\n            }\n            console.log(\"Body: \" + JSON.stringify(body));\n            axios.put('/api/updateUser', body)\n                .then(res => {\n                    console.log(\"Update user: \" + res.data);\n                    this.props.nicknameCb(this.state.nickname, this.state.email);\n                });\n        }\n    }\n    handleKeyPress(event) {\n        if (event.key !== 'Enter') return;\n        this.handleSend();\n    }\n\n    render() {\n        return (\n            < span >\n                <input\n                    className=\"nick-input\"\n                    type=\"text\"\n                    placeholder=\"Change Nickname\"\n                    value={this.state.nickname}\n                    onChange={this.handleChange.bind(this)}\n                    onKeyPress={this.handleKeyPress.bind(this)}\n                />\n                <button\n                    className=\"app__button rounded \"\n                    onClick={this.handleSend.bind(this)}\n                >\n                    Change!\n                                </button>\n            </span >\n        );\n    }\n}\n\n// export default Nickname;"]},"metadata":{},"sourceType":"module"}